(window.webpackJsonppurchaseorder=window.webpackJsonppurchaseorder||[]).push([[0],{528:function(e,a,t){e.exports=t(894)},533:function(e,a,t){},534:function(e,a,t){},894:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(40),l=t.n(c),o=(t(533),t(922)),s=t(921),i=(t(534),t(923)),u=t(98),m=t(901),d=t(929),b=t(903),p=function(e){var a=e.bulkActions,t=e.basePath,n=e.currentSort,c=e.displayedFilters,l=e.exporter,o=e.filters,s=e.filterValues,i=e.onUnselectItems,p=e.resource,f=e.selectedIds,E=e.showFilter,h=e.total;return r.a.createElement(u.a,null,a&&r.a.cloneElement(a,{basePath:t,filterValues:s,resource:p,selectedIds:f,onUnselectItems:i}),o&&r.a.cloneElement(o,{resource:p,showFilter:E,displayedFilters:c,filterValues:s,context:"button"}),r.a.createElement(m.a,{basePath:t}),r.a.createElement(d.a,{disabled:0===h,resource:p,sort:n,filter:s,exporter:l}),r.a.createElement(b.a,null))},f=t(926),E=t(931),h=function(e){return r.a.createElement(f.a,e,r.a.createElement(E.a,{label:"Search",source:"name",alwaysOn:!0}),r.a.createElement(E.a,{label:"Name",source:"name",defaultValue:"amala"}),r.a.createElement(E.a,{label:"Address",source:"address",defaultValue:"Hello, World!"}))},g=t(175),v=t(197),y=t(162),O=t(163),_=t(172),w=t(164),j=t(176),P=t(907),S=t(908),C=t(906),N=t(11),k=t.n(N),D=t(96),x=t.n(D),A=t(94),T=t.n(A),F=t(95),V=t.n(F),I=[{username:"user@propertyfinder.com",email:"user@propertyfinder.com",userId:1,role:"user",firstName:"User Person",lastName:"propertyfinder"},{username:"legal@propertyfinder.com",email:"legal@propertyfinder.com",userId:2,role:"legal",firstName:"Legal Person",lastName:"propertyfinder"},{username:"finance@propertyfinder.com",email:"finance@propertyfinder.com",userId:3,role:"finance",firstName:"Finance Person",lastName:"propertyfinder"}],L=function(){return window.currentUser&&I.find((function(e){return e.email===window.currentUser.username}))&&I.find((function(e){return e.email===window.currentUser.username})).role||"user"},U=t(10),R=t(905),W=t(37),B=t(56),H=t(437),J=t.n(H);function q(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var z=function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(_.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).onClick=function(e){e.stopPropagation();var a=t.props,n=a.resource,r=a.basePath,c=a.record,l=a.startUndoable,o=a.nextStatus;l(Object(R.d)(n,c.id,function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?q(t,!0).forEach((function(a){Object(v.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},c,{status:o}),c,r,null,!0))},t}return Object(j.a)(a,e),Object(O.a)(a,[{key:"render",value:function(){return r.a.createElement(W.a,{label:this.props.label,onClick:this.onClick},r.a.createElement(J.a,null))}}]),a}(n.Component),$=Object(U.b)(void 0,{startUndoable:B.h})(z),G=function(e){return r.a.createElement(C.a,Object.assign({},e,{label:"Status",render:function(e){return"".concat(function(e){switch(e){case"pending":return"Awaiting Legal Approval";case"legal_accepted":return"Awaiting Finance Approval";case"finance_accepted":return"Approved";case"legal_rejected":return"Rejected by Legal";case"finance_rejected":return"Rejected by Finance";default:return e}}(e.status))}}))},K=t(925),M=function(e){var a=e.ids,t=e.data,n=e.children,c=e.status,l=Object(g.a)(e,["ids","data","children","status"]);return r.a.createElement(K.a,Object.assign({},l,{ids:a.filter((function(e){return!c||c.includes(t[e].status)})),data:Object.keys(t).filter((function(e){return!c||c.includes(t[e].status)})).reduce((function(e,a){return e[a]=t[a],e}),{})}),n)};function Q(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function X(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Q(t,!0).forEach((function(a){Object(v.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Y=function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(_.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).tabs=[{id:"all",name:"all"},{id:"pending",name:"Awaiting Approval"},{id:"drafts",name:"drafts"}],t.state={ordered:[],delivered:[],cancelled:[]},t.handleChange=function(e,a){var n=t.props,r=n.filterValues;(0,n.setFilters)(X({},r,{tabStatus:a}))},t}return Object(j.a)(a,e),Object(O.a)(a,[{key:"render",value:function(){var e=this.props,a=(e.classes,e.filterValues),t=Object(g.a)(e,["classes","filterValues"]);return r.a.createElement(n.Fragment,null,r.a.createElement(T.a,{fullWidth:!0,centered:!0,value:a.tabStatus,onChange:this.handleChange},this.tabs.filter((function(e){return!("Awaiting Approval"===e.name&&"user"===L())})).map((function(e){return r.a.createElement(V.a,{key:e.id,label:e.name,value:e.id})}))),r.a.createElement(x.a,null),"all"===a.tabStatus&&r.a.createElement(M,Object.assign({},t,{rowClick:"show"}),r.a.createElement(P.a,{source:"id"}),r.a.createElement(P.a,{source:"name"}),r.a.createElement(P.a,{source:"vendor_type"}),r.a.createElement(P.a,{source:"email"}),r.a.createElement(P.a,{source:"phone"}),r.a.createElement(P.a,{source:"fax"}),r.a.createElement(P.a,{source:"trade_license_number",label:"Trade license"}),r.a.createElement(P.a,{source:"vendor_contact_details.name",label:"Vendor Contact"}),r.a.createElement(P.a,{source:"vendor_finance_contact_details.name",label:"Finance Contact"}),r.a.createElement(G,{label:"Status"}),r.a.createElement(S.a,null)),"pending"===a.tabStatus&&r.a.createElement(M,Object.assign({},t,{status:["legal"===L()?"pending":"legal_accepted"],rowClick:"show"}),r.a.createElement(P.a,{source:"id"}),r.a.createElement(P.a,{source:"name"}),r.a.createElement(P.a,{source:"vendor_type"}),r.a.createElement(P.a,{source:"email"}),r.a.createElement(P.a,{source:"phone"}),r.a.createElement(P.a,{source:"fax"}),r.a.createElement(P.a,{source:"trade_license_number",label:"Trade license"}),r.a.createElement(G,{label:"Status"}),r.a.createElement($,{label:"Approve",nextStatus:"legal"===L()?"legal_accepted":"finance_accepted"}),r.a.createElement($,{label:"Reject",nextStatus:"legal"===L()?"legal_rejected":"finance_rejected"}),r.a.createElement(S.a,null)),"drafts"===a.tabStatus&&r.a.createElement(M,Object.assign({},t,{status:[],rowClick:"show"}),r.a.createElement(P.a,{source:"id"}),r.a.createElement(P.a,{source:"name"}),r.a.createElement(P.a,{source:"vendor_type"}),r.a.createElement(C.a,{label:"Status",render:function(){return"Draft"}}),r.a.createElement(S.a,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.ids!==a[e.filterValues.tabStatus]?X({},a,Object(v.a)({},e.filterValues.tabStatus,e.ids)):null}}]),a}(r.a.Component),Z=k()({total:{fontWeight:"bold"}})(Y),ee=function(e){return r.a.createElement(i.a,Object.assign({},e,{actions:r.a.createElement(p,null),filters:r.a.createElement(h,null),filterDefaultValues:{tabStatus:"all"}}),r.a.createElement(Z,null))},ae=t(934),te=t(924),ne=t(932),re=t(910),ce=t(933),le=t(911),oe=t(912),se=t(913),ie=function(e){return r.a.createElement(te.a,Object.assign({},e,{submitOnEnter:!1}),r.a.createElement(ne.a,{label:"Details"},r.a.createElement(re.a,{source:"vendor_type",choices:[{id:"contract",name:"Contract"},{id:"single",name:"One Time"}]}),r.a.createElement(E.a,{source:"name"}),r.a.createElement(E.a,{source:"email"}),r.a.createElement(E.a,{source:"phone"}),r.a.createElement(E.a,{source:"fax"}),r.a.createElement(E.a,{source:"address",options:{multiline:!0,rows:3}})),r.a.createElement(ne.a,{label:"Contact Details"},r.a.createElement(E.a,{source:"vendor_contact_details.name",label:"Name"}),r.a.createElement(E.a,{source:"vendor_contact_details.email",label:"Email"}),r.a.createElement(E.a,{source:"vendor_contact_details.phone",label:"Phone"})),r.a.createElement(ne.a,{label:"Finance Contact Details"},r.a.createElement(E.a,{source:"vendor_finance_contact_details.name",label:"Name"}),r.a.createElement(E.a,{source:"vendor_finance_contact_details.email",label:"Email"}),r.a.createElement(E.a,{source:"vendor_finance_contact_details.phone",label:"Phone"})),r.a.createElement(ne.a,{label:"Legal Details"},r.a.createElement(E.a,{source:"trade_license_number"}),r.a.createElement(ce.a,{source:"trade_license_document"}),r.a.createElement(E.a,{source:"vat_number"}),r.a.createElement(ce.a,{source:"vat_certificate"}),r.a.createElement(ce.a,{source:"certificate_goodstanding"})),r.a.createElement(ne.a,{label:"Contract"},r.a.createElement(E.a,{source:"contract.payment_terms",label:"Payment Terms",options:{multiline:!0,rows:3}}),r.a.createElement(le.a,{source:"contract.term.start",label:"Term Start"}),r.a.createElement(le.a,{source:"contract.term.end",label:"Term End"}),r.a.createElement(oe.a,{source:"contract.cancellable",label:"Cancellable"}),r.a.createElement(oe.a,{source:"contract.autoRenewable",label:"Auto-Renewable"}),r.a.createElement(se.a,{source:"contract.terminationNotificationPeriod",label:"Termination Notification Period (days)"})))},ue=function(e){return r.a.createElement(ae.a,e,r.a.createElement(ie,null))},me=t(927),de=function(e){return r.a.createElement(me.a,e,r.a.createElement(ie,null))},be=t(928),pe=t(935),fe=t(916),Ee=t(917),he=t(918),ge=t(919),ve=t(920),ye=function(e){return r.a.createElement(be.a,e,r.a.createElement(pe.a,null,r.a.createElement(fe.a,{label:"Details"},r.a.createElement(P.a,{source:"vendor_type"}),r.a.createElement(P.a,{source:"name"}),r.a.createElement(P.a,{source:"email"}),r.a.createElement(P.a,{source:"phone"}),r.a.createElement(P.a,{source:"fax"}),r.a.createElement(P.a,{source:"address",options:{multiline:!0,rows:3}})),r.a.createElement(fe.a,{label:"Contact Details"},r.a.createElement(P.a,{source:"vendor_contact_details.name",label:"Name"}),r.a.createElement(P.a,{source:"vendor_contact_details.email",label:"Email"}),r.a.createElement(P.a,{source:"vendor_contact_details.phone",label:"Phone"})),r.a.createElement(fe.a,{label:"Finance Contact Details"},r.a.createElement(P.a,{source:"vendor_finance_contact_details.name",label:"Name"}),r.a.createElement(P.a,{source:"vendor_finance_contact_details.email",label:"Email"}),r.a.createElement(P.a,{source:"vendor_finance_contact_details.phone",label:"Phone"})),r.a.createElement(fe.a,{label:"Legal Details"},r.a.createElement(P.a,{source:"trade_license_number"}),r.a.createElement(Ee.a,{source:"trade_license_document"}),r.a.createElement(P.a,{source:"vat_number"}),r.a.createElement(Ee.a,{source:"vat_certificate"}),r.a.createElement(Ee.a,{source:"certificate_goodstanding"})),r.a.createElement(fe.a,{label:"Contract"},r.a.createElement(P.a,{source:"contract.payment_terms",label:"Payment Terms",options:{multiline:!0,rows:3}}),r.a.createElement(he.a,{source:"contract.term.start",label:"Term Start"}),r.a.createElement(he.a,{source:"contract.term.end",label:"Term End"}),r.a.createElement(ge.a,{source:"contract.cancellable",label:"Cancellable"}),r.a.createElement(ge.a,{source:"contract.autoRenewable",label:"Auto-Renewable"}),r.a.createElement(ve.a,{source:"contract.terminationNotificationPeriod",label:"Termination Notification Period (days)"}))))},Oe=t(463),_e=t(451),we=t(422),je=t(421),Pe=t(6),Se=t.n(Pe),Ce=t(909),Ne=t(153),ke=t.n(Ne),De=t(26),xe=t.n(De),Ae=t(50),Te=t.n(Ae),Fe=t(154),Ve=t.n(Fe),Ie=t(62),Le=t.n(Ie),Ue=t(60),Re=t.n(Ue),We=t(4),Be=t(271),He=t.n(Be),Je=t(272),qe=t(34),ze=t(44),$e=function(e){var a=e.meta,t=(a=void 0===a?{}:a).touched,n=a.error,c=Object(_e.a)({},e.input),l=Object(g.a)(e,["meta","input"]);return r.a.createElement(Re.a,Object.assign({error:!(!t||!n),helperText:t&&n},c,l,{fullWidth:!0}))},Ge=function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(_.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).login=function(e){window.currentUser=e,localStorage.setItem("login",JSON.stringify(e)),t.props.history.push("/vendors")},t}return Object(j.a)(a,e),Object(O.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.handleSubmit,n=e.isLoading,c=e.translate;return r.a.createElement("div",{className:a.main},r.a.createElement(Te.a,{className:a.card},r.a.createElement("div",{className:a.avatar},r.a.createElement(ke.a,{className:a.icon},r.a.createElement(He.a,null))),r.a.createElement("form",{onSubmit:t(this.login)},r.a.createElement("div",{className:a.hint},"Hint: demo / demo"),r.a.createElement("div",{className:a.form},r.a.createElement("div",{className:a.input},r.a.createElement(we.a,{autoFocus:!0,name:"username",component:$e,label:c("ra.auth.username"),disabled:n})),r.a.createElement("div",{className:a.input},r.a.createElement(we.a,{name:"password",component:$e,label:c("ra.auth.password"),type:"password",disabled:n}))),r.a.createElement(Ve.a,{className:a.actions},r.a.createElement(xe.a,{variant:"raised",type:"submit",color:"primary",disabled:n,className:a.button,fullWidth:!0},n&&r.a.createElement(Le.a,{size:25,thickness:2}),c("ra.auth.sign_in"))))),r.a.createElement(Je.a,null))}}]),a}(n.Component),Ke=Se()(qe.a,Object(je.a)({form:"signIn",validate:function(e,a){var t={},n=a.translate;return e.username||(t.username=n("ra.validation.required")),e.password||(t.password=n("ra.validation.required")),t}}),Object(U.b)((function(e){return{isLoading:e.admin.loading>0}}),{userLogin:ze.h}),Object(We.withStyles)((function(){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},hint:{marginTop:"1em",display:"flex",justifyContent:"center"},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}}))),Me=Object(Ce.a)(Ke(Ge)),Qe=function(e){return r.a.createElement(Me,e)},Xe=t(462),Ye=Object(Oe.a)("http://13.233.125.210:8081"),Ze=function(){return r.a.createElement(o.a,{dataProvider:Ye,loginPage:Qe,logoutButton:function(){return r.a.createElement(Xe.a,{title:"Logout"})}},r.a.createElement(s.a,{name:"vendors",list:ee,show:ye,edit:de,create:ue}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));""===window.location.hash&&window.history.pushState({},"","#login"),l.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[528,1,2]]]);
//# sourceMappingURL=main.79a636ec.chunk.js.map